# Java 业务功能模块 — 分析指导

## 分析模板

### 第一轮：结构扫描
- `pom.xml` → 依赖的基础模块、外部依赖
- 目录结构 → Controller / Service / Repository / Model 分层
- `README.md` → 业务背景说明

### 第二轮：核心代码扫描
- Controller 层 → REST API 端点、请求/响应模型
- Service 层 → 核心业务逻辑、接口定义
- Entity / Model → 领域模型、实体关系
- Repository / DAO → 数据访问方式
- DTO / VO → 数据传输对象

### 第三轮：特征探测
- `application.yml` / `@ConfigurationProperties` → 配置项
- `@Transactional` → 事务边界
- 事件发布/监听（`ApplicationEvent`）→ 事件驱动
- 定时任务（`@Scheduled`）→ 后台任务
- 权限注解（`@PreAuthorize` 等）→ 权限控制
- 与其他模块的集成点 → 模块间依赖
- `META-INF/spring.factories` → 自动配置

## 问题清单

### AI 自答
1. 模块属于什么业务领域？提供什么业务能力？
2. 核心实体/数据模型有哪些？关系如何？
3. Service 层提供了哪些核心接口？
4. 有哪些 REST API 端点？
5. 配置项有哪些？默认值？
6. 是否有事件驱动机制？
7. 是否有定时任务？
8. 权限控制策略是什么？
9. 依赖了哪些基础模块？怎么使用的？
10. 提供给其他模块的能力是什么？

### 用户决策点
- 文档侧重：业务流程说明 or 技术接口说明？
- 是否需要包含 Web API 详细列表？
- 是否需要包含使用示例代码？
- 哪些业务流程需要详细说明？

## 章节推荐池

### 核心章节
| 章节 | 内容 |
|------|------|
| 概述 | 业务背景、核心功能列表 |
| 领域模型 | 核心实体、关系说明 |
| 核心接口 | Service 层接口定义和关键方法 |

### 条件章节
| 章节 | 触发条件 |
|------|---------|
| Web API | 发现 Controller 层 REST 端点 |
| 配置项 | 发现 `@ConfigurationProperties` 或配置文件 |
| 事件机制 | 发现事件发布/监听 |
| 定时任务 | 发现 `@Scheduled` |
| 权限控制 | 发现权限注解 |
| 模块集成 | 依赖或被依赖的模块 ≥ 2 个 |
| 扩展点 | 发现 SPI 或扩展接口 |

### 可选章节
| 章节 | 适用场景 |
|------|---------|
| 业务流程详解 | 核心流程逻辑复杂时 |
| 使用示例 | 面向模块使用者时 |
| 数据流转 | 涉及多层数据转换时 |
