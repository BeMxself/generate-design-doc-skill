# Ouroboros 能力模块 — 分析指导

> 适用于 ouroboros 项目中 `ability/` 路径下的业务能力模块，如 ouroboros-notification、ouroboros-file-upload、ouroboros-organization-structure 等。

## 分析模板

### 第一轮：结构扫描
- `pom.xml` → 依赖的 ouroboros 核心模块、外部依赖
- 目录结构 → 分层方式（通常 Controller/Service/Repository/Model）
- `README.md` → 业务能力说明
- 子模块划分 → 是否有 api/impl/starter 分离

### 第二轮：核心代码扫描
- Service 接口 → 对外提供的业务能力
- Controller → REST API 端点
- Entity / Model → 领域模型
- 配置类 → 可配置的业务参数
- 事件定义 → 发布/监听的事件

### 第三轮：特征探测（ouroboros 能力模块特有）
- 使用了哪些 ouroboros 核心能力 → 如 ouroboros-data 的查询 DSL
- 是否提供 SPI 供其他模块扩展 → 能力模块也可能有扩展点
- 是否有 Starter 模块 → 自动配置和开箱即用
- 是否有管理后台 API → 管理端接口
- 是否有异步处理 → 消息队列、异步任务
- 是否有文件/存储操作 → 文件上传、OSS 集成
- 是否有外部系统集成 → 第三方 API、SDK

## 问题清单

### AI 自答
1. 模块提供什么业务能力？属于什么业务领域？
2. 依赖了哪些 ouroboros 核心模块？怎么使用的？
3. Service 层核心接口有哪些？
4. 有哪些 REST API 端点？
5. 领域模型有哪些？实体关系？
6. 配置项有哪些？默认值？
7. 是否有事件驱动？发布/监听了什么事件？
8. 是否有异步处理？
9. 是否有 Starter？自动配置了什么？
10. 是否有外部系统集成？
11. 是否提供 SPI 扩展点？

### 用户决策点
- 文档侧重：业务流程 or 技术集成？
- 是否需要 API 端点详细列表？
- 是否需要说明与 ouroboros 核心模块的集成方式？
- 哪些业务流程需要详细说明？

## 章节推荐池

### 核心章节
| 章节 | 内容 |
|------|------|
| 概述 | 业务能力、在 ouroboros 中的定位 |
| 领域模型 | 核心实体和关系 |
| 核心接口 | Service 层能力定义 |

### 条件章节
| 章节 | 触发条件 |
|------|---------|
| Web API | 发现 Controller 端点 |
| 配置项 | 发现配置属性 |
| 事件机制 | 发现事件发布/监听 |
| 异步处理 | 发现消息队列或异步任务 |
| 外部集成 | 发现第三方 API 调用 |
| 扩展点 | 发现 SPI 或扩展接口 |
| ouroboros 集成 | 使用了 2+ 个核心模块的能力 |
| Starter 说明 | 发现 Starter 子模块 |

### 可选章节
| 章节 | 适用场景 |
|------|---------|
| 业务流程详解 | 核心流程复杂时 |
| 使用示例 | 面向集成开发者时 |
| 权限控制 | 有细粒度权限时 |
| 数据流转 | 涉及多层数据转换时 |
