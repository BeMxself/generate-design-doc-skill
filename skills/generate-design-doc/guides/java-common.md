# Java 通用库/Common 模块 — 分析指导

## 分析模板

### 第一轮：结构扫描
- `pom.xml` → 依赖关系（应极少外部依赖）
- 目录结构 → 包组织（通常按功能域分包）
- 被引用情况 → 全局搜索哪些模块依赖本模块
- 约定与抽象 → 是否存在“跨模块约定”（错误码/响应体/命名规则/注解语义）

### 第二轮：核心代码扫描
- 公共接口和抽象类 → 模块提供的契约
- 常量定义、枚举类 → 全局共享的定义
- 基类（Base*）→ 提供的基础能力
- 注解定义 → 自定义注解及其处理器
- 工具方法 → 通用辅助功能
- 统一抽象 → 是否定义了统一模型（错误/响应/上下文/能力接口）并被广泛依赖

### 第三轮：特征探测
- 是否定义了全局异常体系 → 异常基类
- 是否定义了通用响应结构 → Result/Response 封装
- 是否提供了 AOP 切面 → 横切关注点
- 是否有序列化/反序列化支持 → JSON/XML 处理
- 是否有安全相关工具 → 加密、签名、Token
- `META-INF/services/` / `spring.factories` → 是否存在扩展点或可替换策略
- Strategy / Handler / Resolver → 常见“可扩展”抽象（按命名与调用链识别）

## 问题清单

### AI 自答
1. 模块提供了哪些通用能力？按功能域分类
2. 有哪些公共接口/抽象类被广泛继承？
3. 定义了哪些全局常量和枚举？
4. 有哪些自定义注解？各自用途？
5. 是否定义了全局异常体系？层次结构？
6. 是否定义了通用响应封装？
7. 有哪些 AOP 切面？处理什么横切关注点？
8. 哪些模块依赖本模块？使用了哪些能力？
9. 模块内有哪些“抽象概念/约定”？（术语表 + 约束/不变式 + 使用边界）
10. 是否有扩展点？如何扩展？（实现接口 → 注册/发现 → 排序/选择 → 配置启用）

### 用户决策点
- 文档侧重：能力概览 or 详细 API 参考？
- 是否需要按功能域分章节？
- 是否需要说明各能力的使用示例？

## 章节推荐池

### 核心章节
| 章节 | 内容 |
|------|------|
| 概述 | 模块定位、提供的通用能力概览 |
| 能力清单 | 按功能域分组的能力列表 |
| 核心接口与基类 | 公共契约定义 |

### 条件章节
| 章节 | 触发条件 |
|------|---------|
| 全局异常体系 | 发现异常基类和层次结构 |
| 通用响应结构 | 发现 Result/Response 封装 |
| 自定义注解 | 发现 3+ 个自定义注解 |
| AOP 切面 | 发现切面定义 |
| 常量与枚举 | 发现大量全局定义 |
| 抽象概念与约定 | 发现统一语义/约定（错误码、响应体、上下文、注解语义等） |
| 扩展点与扩展方式 | 发现 SPI / 可替换策略 / Handler/Resolver 抽象 |

### 可选章节
| 章节 | 适用场景 |
|------|---------|
| 使用指南 | 面向新开发者时 |
| 依赖关系图 | 被依赖关系复杂时 |
