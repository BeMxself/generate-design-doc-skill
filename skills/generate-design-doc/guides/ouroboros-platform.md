# Ouroboros 平台应用（Platform App）— 分析指导

> 适用于 `platform/` 下的可运行应用（如 `ouroboros-develop`、`ouroboros-mothership`）。重点是：装配哪些模块、提供哪些对外能力、运行/部署与配置边界。

## 分析模板

### 第一轮：结构扫描
- `pom.xml` → 依赖聚合（引入哪些 core/security/ability/dev-module/app-module）
- 启动入口 → `*Application`、Spring Boot 启动类、profile 使用
- 配置目录 → `application*.yml`、`bootstrap*`、外部化配置说明
- 部署资产 → `Dockerfile`、`docker-compose*`、helm/k8s 清单（如有）、`build.sh` 相关脚本
- 文档 → `README.md`、部署说明、环境变量清单

### 第二轮：核心代码扫描
- AutoConfiguration/扫描路径 → 组件装配边界、条件装配
- Web 层 → 对外 API（管理端/运行端）、静态资源、反向代理配置（如有）
- 安全入口 → 认证方式、RBAC/权限模型装配点
- 运行时集成 → 数据源、MQ、调度器、文件存储、通知通道等能力的装配与默认实现

### 第三轮：特征探测（platform 特有）
- 模块装配策略 → 通过依赖聚合、starter、spring.factories 自动装配
- 多环境与多租户 → profile、租户隔离、配置覆盖与迁移策略
- 运维能力 → 健康检查、metrics/tracing、日志结构与审计
- 资源与低代码运行时 → UI schema、动态模型、工作流等 runtime 能力如何被启用

## 问题清单

### AI 自答
1. 这是哪个平台应用？目标用户是谁？（开发者平台 vs 运行平台）
2. 装配了哪些能力模块？哪些是必选、哪些是可选？
3. 对外暴露的入口有哪些？（Web/API/WebSocket/任务/消息消费）
4. 安全模型是什么？（登录、会话/JWT、RBAC 装配点）
5. 配置项清单：数据源、缓存、MQ、文件存储、通知、调度、限流等默认值与必填项？
6. 部署方式：Docker/K8s/裸机？启动命令与 profile？
7. 运行时依赖：需要哪些外部服务？（DB、Redis、MQ、对象存储…）
8. 升级与迁移：数据库迁移、配置变更、兼容性注意事项？

### 用户决策点
- 文档侧重：部署运维手册还是模块装配与扩展点？
- 是否需要列出完整配置项（按能力模块分组）？
- 是否需要包含“推荐最小可运行环境”与“生产建议拓扑”？

## 章节推荐池

### 核心章节
| 章节 | 内容 |
|------|------|
| 概述 | 应用定位、核心能力、运行边界 |
| 依赖与装配 | 引入的模块清单、装配方式（starter/auto-config） |
| 对外入口 | API/端口/协议清单、访问路径 |
| 配置与运行 | 配置项分组、启动方式、profile/环境变量 |
| 部署拓扑 | 外部依赖、最小环境、生产建议 |

### 条件章节
| 章节 | 触发条件 |
|------|---------|
| 安全与权限 | 发现 RBAC/鉴权装配 |
| 多租户 | 发现租户隔离与租户配置 |
| 可观测性 | 发现 health/metrics/tracing |
| 低代码运行时 | 发现动态模型/UI schema/工作流 runtime 启用逻辑 |

### 可选章节
| 章节 | 适用场景 |
|------|---------|
| 故障排查 | 线上问题较多或依赖复杂时 |
| 性能与容量 | 高并发/大数据量场景 |
